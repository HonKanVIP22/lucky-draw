<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Lucky Draw Pro</title>

<style>
html,body{
  width:100%;
  height:100%;
  margin:0;
  font-family:'Segoe UI',Arial;
}

/* ===== N·ªÄN ·∫¢NH DO B·∫†N CH·ªåN ===== */
body{
  background:
    linear-gradient(rgba(0,0,0,.45),rgba(0,0,0,.45)),
    url("nen.jpg") no-repeat center center fixed;
  background-size:cover;
  color:#fff;
  text-align:center;
}

/* ===== CANH GI·ªÆA FULL M√ÄN H√åNH ===== */
.container{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

/* ===== LOGO & TI√äU ƒê·ªÄ ===== */
.logo{height:90px;margin-bottom:10px}
h1{
  font-size:50px;
  margin:10px 0 30px;
  letter-spacing:3px;
}

/* ===== KHUNG QUAY ===== */
.card{
  background:rgba(255,255,255,.95);
  color:#333;
  display:inline-block;
  padding:40px 60px;
  border-radius:22px;
  min-width:500px;
  box-shadow:0 30px 70px rgba(0,0,0,.5);
  backdrop-filter:blur(6px);
}

/* ===== FORM ===== */
select,button{
  font-size:20px;
  padding:10px 18px;
  margin-top:14px;
}

/* ===== N√öT QUAY ===== */
button{
  background:linear-gradient(135deg,#e63946,#ff6b6b);
  color:#fff;
  border:none;
  border-radius:40px;
  padding:16px 50px;
  font-size:30px;
  cursor:pointer;
  box-shadow:0 10px 30px rgba(230,57,70,.6);
}
button:hover{opacity:.9}

/* ===== K·∫æT QU·∫¢ ===== */
#result{
  font-size:64px;
  font-weight:900;
  color:#e63946;
  margin-top:30px;
  min-height:80px;
  letter-spacing:3px;
  text-shadow:0 6px 20px rgba(230,57,70,.6);
  transition:transform .2s ease;
}

/* ===== LOG ===== */
#log{
  margin-top:25px;
  text-align:left;
  max-height:220px;
  overflow:auto;
  font-size:16px
}
</style>
</head>

<body>

<div class="container">
  <img src="logo.png" class="logo">
  <h1>üéØ QUAY S·ªê MAY M·∫ÆN</h1>

  <div class="card">
    <div>
      <strong>üéÅ Ch·ªçn gi·∫£i:</strong><br>
      <select id="prize">
        <option>Gi·∫£i Nh·∫•t</option>
        <option>Gi·∫£i Nh√¨</option>
        <option>Gi·∫£i Ba</option>
        <option>Khuy·∫øn Kh√≠ch</option>
      </select>
    </div>

    <button onclick="draw()">QUAY</button>

    <div id="result">---</div>

    <button onclick="exportCSV()">üì• Xu·∫•t k·∫øt qu·∫£</button>

    <div id="log"></div>
  </div>
</div>

<script>
// ================= DANH S√ÅCH QUAY =================
let items = [
  { code:"001", name:"Nguy·ªÖn VƒÉn A" },
  { code:"002", name:"Tr·∫ßn Th·ªã B" },
  { code:"003", name:"L√™ VƒÉn C" },
  { code:"004", name:"Ph·∫°m Th·ªã D" },
  { code:"005", name:"Ho√†ng VƒÉn E" },
  { code:"006", name:"V√µ Th·ªã F" },
  { code:"007", name:"ƒê·∫∑ng VƒÉn G" },
  { code:"008", name:"B√πi Th·ªã H" },
  { code:"009", name:"Ng√¥ VƒÉn I" },
  { code:"010", name:"D∆∞∆°ng Th·ªã K" }
];

let results = [];

// ================= QUAY S·ªê =================
function draw(){
  if(items.length===0){
    document.getElementById("result").innerText="H·∫æT DANH S√ÅCH";
    return;
  }

  let duration=3000;
  let start=Date.now();
  let temp;

  let interval=setInterval(()=>{
    temp=items[Math.floor(Math.random()*items.length)];
    let result=document.getElementById("result");
    result.innerText=temp.code+" - "+temp.name;
    result.style.transform="scale("+(1+Math.random()*0.06)+")";

    if(Date.now()-start>duration){
      clearInterval(interval);
      items.splice(items.indexOf(temp),1);
      let prize=document.getElementById("prize").value;
      results.push({prize,...temp});
      log(prize,temp);

      result.style.transform="scale(1.25)";
      setTimeout(()=>result.style.transform="scale(1)",300);
    }
  },60);
}

// ================= LOG =================
function log(prize,item){
  document.getElementById("log").innerHTML+=
    "üèÜ <b>"+prize+"</b>: "+item.code+" - "+item.name+"<br>";
}

// ================= XU·∫§T FILE =================
function exportCSV(){
  let csv="Prize,Code,Name\n";
  results.forEach(r=>csv+=`${r.prize},${r.code},${r.name}\n`);
  let blob=new Blob([csv],{type:"text/csv"});
  let a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="ketqua_quayso.csv";
  a.click();
}
</script>

</body>
</html>
